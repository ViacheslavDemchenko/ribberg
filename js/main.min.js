"use strict";window.addEventListener("DOMContentLoaded",function(){!function(){ymaps.ready(function(){(e=new ymaps.Map("yandex-map",{center:[55.753595,37.621031],zoom:16})).behaviors.disable("scrollZoom"),e.behaviors.disable("drag"),e.events.add("click",function(){e.behaviors.enable("scrollZoom"),e.behaviors.enable("drag")}),t=new ymaps.Placemark([55.753595,37.621031],{},{iconLayout:"default#image",iconImageSize:[20,20]}),e.geoObjects.add(t)});var e=void 0,t=void 0}(),function(){var e=$("#menu__button"),t=$(".nav-list"),n=$(".nav__link"),a="nav-list--active",o=$(".header-main");function l(){e.hasClass("active")?e.removeClass("active"):e.addClass("active")}e.on("click",function(e){e.preventDefault(),t.toggleClass(a),o.css("position","relative"),o.css("z-index","-1"),l()}),n.on("click",function(){t.removeClass(a),o.css("position",""),o.css("z-index",""),l()}),$(window).resize(function(){1024<$(window).width()&&(t.removeAttr("style"),t.removeClass(a),e.hasClass("active")&&e.removeClass("active"))})}(),$("#slick").slick({dots:!1,infinite:!1,speed:1e3,touchMove:!0,autoplay:!0,slidesToShow:1,slidesToScroll:1,draggable:!0,pauseOnHover:!0,prevArrow:'<button type="button" class="slick-arrow slick-prev"><span>Previous</span></button>',nextArrow:'<button type="button" class="slick-arrow slick-next"><span>Next</span></button>',responsive:[{breakpoint:600,settings:{arrows:!1}}]}),function(){var e=document.getElementById("square"),t=document.getElementById("lamps"),n=document.querySelectorAll(".calc-checkbox__item"),a=document.querySelector(".calc__btn"),o=document.getElementById("total"),r=document.querySelector(".square-warning"),d=document.querySelector(".lamps-warning"),l=void 0,u=0,v=0,y=0;function s(e,t){var n=document.getElementById(e);if(n){var a=n.value;t.test(a)||(a=""),setInterval(function(){var e=n.value;e!=a&&(t.test(e)?a=e:n.value=a)},10)}}s("square",/^\d*\.?\d*$/),s("lamps",/^[0-9]?[0-9]*$/),e.addEventListener("keyup",function(){v=e.value,r.style.display="",d.style.display="",o.textContent=0,u=l*v+50*y}),t.addEventListener("keyup",function(){y=t.value,r.style.display="",d.style.display="",o.textContent=0,u=l*v+50*y}),function(){for(var e=function(e){n[e].checked&&(l=n[e].value),n[e].addEventListener("change",function(){o.textContent=0,l=n[e].value,u=l*v+50*y})},t=0;t<n.length;t++)e(t)}(),a.addEventListener("click",function(){var e,t,n,a,o,l,s,i,c;""==v&&""==y?(u=0,r.style.display="block",d.style.display="block"):0==v&&0==y?(u=0,r.style.display="block",d.style.display="block"):""==v||0==v?(u=0,r.style.display="block"):""==y||0==y?(u=0,d.style.display="block"):(r.style.display="",d.style.display="",e="total",a=3e3,o=(n=u)-(t=0),l=t,s=Math.abs(Math.floor(a/o)),i=document.getElementById(e),c=setInterval(function(){l+=50,i.textContent=l,n<=l&&clearInterval(c)},s))})}(),$("nav a,a[href='#top'],a[rel='m_PageScroll2id'],a.PageScroll2id").mPageScroll2id({highlightSelector:"nav a"}),(new WOW).init(),$(window).scroll(function(){700<$(this).scrollTop()?$("#toTop").fadeIn():$("#toTop").fadeOut()}),$("#toTop").click(function(){$("body,html").animate({scrollTop:0},800)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInltYXBzIiwibXlNYXAiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiYmVoYXZpb3JzIiwiZGlzYWJsZSIsImV2ZW50cyIsImFkZCIsIm15UGxhY2VtYXJrIiwiUGxhY2VtYXJrIiwiaWNvbkltYWdlU2l6ZSIsImljb25MYXlvdXQiLCJnZW9PYmplY3RzIiwibWVudUJ1dHRvbiIsIm1lbnVNb2JpbGVPcGVuIiwibWVudU1vYmlsZSIsImhlYWRlciIsIm1lbnVMaW5rIiwiJCIsInNjcmVlbldpZHRoQ2hlY2siLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiZSIsImNzcyIsInJlbW92ZUF0dHIiLCJoYXNDbGFzcyIsInRvdWNoTW92ZSIsImF1dG9wbGF5Iiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJkcmFnZ2FibGUiLCJwYXVzZU9uSG92ZXIiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiYXJyb3dzIiwic3F1YXJlIiwiY2hlY2tib3hWYWx1ZSIsImxhbXBzIiwibGFtcHNQcmljZSIsImdldEVsZW1lbnRCeUlkIiwiY2hlY2tib3hlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImNhbGNCdG4iLCJyZXN1bHQiLCJxdWVyeVNlbGVjdG9yIiwiY2FsY1RvdGFsIiwic3F1YXJlVmFsdWUiLCJzcXVhcmVXYXJuaW5nIiwibGFtcHNWYWx1ZSIsImxhbXBzV2FybmluZyIsInRvdGFsIiwiZWxlbWVudCIsInJlZ2V4IiwibGFzdFZhbHVlIiwic2V0SW50ZXJ2YWwiLCJ2YWx1ZSIsImlkIiwidGVzdCIsImlucHV0Q2hlY2siLCJ0ZXh0Q29udGVudCIsImRpc3BsYXkiLCJzdHlsZSIsImNoZWNrYm94ZXNDaGVjayIsImNoZWNrZWQiLCJpIiwiX2xvb3AiLCJpbmNyZW1lbnQiLCJlbmQiLCJkdXJhdGlvbiIsInJhbmdlIiwiY3VycmVudCIsInN0ZXBUaW1lIiwidGltZXIiLCJmbG9vciIsImNsZWFySW50ZXJ2YWwiLCJtUGFnZVNjcm9sbDJpZCIsImhpZ2hsaWdodFNlbGVjdG9yIiwic2Nyb2xsIiwidGhpcyIsInNjcm9sbFRvcCIsImZhZGVJbiIsImZhZGVPdXQiLCJjbGljayIsImFuaW1hdGUiXSwibWFwcGluZ3MiOiJhQUFBQSxPQUFPQyxpQkFBaUIsbUJBQW9CLFlBUTVDLFdBRUlDLE1BQUFBLE1BS0EsWUFFSUMsRUFBQUEsSUFBUUQsTUFBSUEsSUFBTUUsYUFBSSxDQUNsQkMsT0FBQUEsQ0FBQUEsVUFBUyxXQUNUQyxLQUFBQSxNQUdKSCxVQUFNSSxRQUFVQyxjQUNoQkwsRUFBQUEsVUFBTUksUUFBVUMsUUFDaEJMLEVBQUFBLE9BQU1NLElBQU9DLFFBQUksV0FDakJQLEVBQUFBLFVBQU1JLE9BQU4sY0FDQUosRUFBQUEsVUFBTUksT0FBTixVQUdBSSxFQUFBQSxJQUFjVCxNQUFJQSxVQUFNVSxDQUFBQSxVQUFXLFdBQVcsR0FJOUNDLENBRkFDLFdBRkEsZ0JBSUFELGNBQWUsQ0FBQyxHQUFJLE1BekI1QlYsRUFBQVksV0FBQUwsSUFBQUMsS0FJSSxJQUFBUixPQUFBQSxFQUFBUSxPQUFBQSxFQUpKLEdBb0NJLFdBQUEsSUFBQUssRUFHRkMsRUFBQUEsaUJBSEVDLEVBSUZDLEVBQUFBLGFBRkFDLEVBQVdDLEVBQUUsY0FJZEosRUFBU0ssbUJBQ1JILEVBQUFFLEVBQUEsZ0JBRUksU0FBQUMsSUFDR04sRUFBQUEsU0FBQUEsVUFDSEEsRUFBQU8sWUFBQSxVQURHUCxFQUFXUSxTQUFTLFVBTzNCTCxFQUFBQSxHQUFBQSxRQUFXLFNBQVhNLEdBQ0FOLEVBQUFBLGlCQUNBRyxFQUFBQSxZQUFBQSxHQUNBSCxFQU5ETyxJQUFBLFdBQUEsWUFJQ1AsRUFBT08sSUFBSSxVQUFXLE1BSXZCTixNQUdDRCxFQUFBQSxHQUFBQSxRQUFBLFdBQ0FHLEVBQUFBLFlBQUFBLEdBQ0FILEVBTERPLElBQUEs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bkJGWCxFQUFBWSxNQUFBRCxRQUFBLEdBeUJRTSxFQVBhLFFBS2pCRSxFQUxvQyxJQUtwQ0MsR0FBQUYsRUFMNkJqQixJQU96QmdCLEVBUHNCLEdBSzFCSSxFQUlJbkIsRUFFSm9CLEVBQUlDLEtBQVFsQixJQUFBQSxLQUFhbUIsTUFBQUwsRUFBTUMsSUFDM0JDLEVBQUFBLFNBQVdKLGVBQVhWLEdBREFnQixFQUFRbEIsWUFBYSxXQUl6QmdCLEdBUmdCLEdBU1pJLEVBQUFBLFlBQWNGLEVBTE5MLEdBT2ZHLEdBQ0ZJLGNBQUFGLElBR0hELE1BNUdJLEdBZ0hBekQsRUFBRSxpRUFPTDZELGVBQVcsQ0FBQUMsa0JBQUEsV0FTUjlELElBQUFBLEtBQUVyQixPQU9EcUIsRUFBQXJCLFFBUERvRixPQUFBLFdBU21CLElBQWpCL0QsRUFBQWdFLE1BQUZDLFlBQ0lqRSxFQUFFLFVBQUFrRSxTQVpWbEUsRUFBQSxVQUFBbUUsWUFXSW5FLEVBQUUsVUFBVW9FLE1BQU8sV0FDZnBFLEVBQUUsYUFBYXFFLFFBQVEsQ0FBQ0osVUFBVSxHQUFHIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHJcblxyXG4vKiDQmtCQ0KHQotCe0JzQndCr0JUg0KHQmtCg0JjQn9Ci0KsgKi9cclxuXHJcblxyXG4vKiBZYW5kZXggbWFwICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgeW1hcHMucmVhZHkoaW5pdCk7XHJcblxyXG4gICAgbGV0IG15TWFwLFxyXG4gICAgICAgIG15UGxhY2VtYXJrO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKXsgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwieWFuZGV4LW1hcFwiLCB7XHJcbiAgICAgICAgICAgIGNlbnRlcjogWzU1Ljc1MzU5NSwgMzcuNjIxMDMxXSxcclxuICAgICAgICAgICAgem9vbTogMTZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbXlNYXAuYmVoYXZpb3JzLmRpc2FibGUoXCJzY3JvbGxab29tXCIpO1xyXG4gICAgICAgIG15TWFwLmJlaGF2aW9ycy5kaXNhYmxlKCdkcmFnJyk7XHJcbiAgICAgICAgbXlNYXAuZXZlbnRzLmFkZChcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbXlNYXAuYmVoYXZpb3JzLmVuYWJsZShcInNjcm9sbFpvb21cIilcclxuICAgICAgICBteU1hcC5iZWhhdmlvcnMuZW5hYmxlKCdkcmFnJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuNzUzNTk1LCAzNy42MjEwMzFdLCB7fSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIHsgICAgICAgICBcclxuICAgICAgICBpY29uTGF5b3V0OiBcImRlZmF1bHQjaW1hZ2VcIixcclxuICAgICAgICBpY29uSW1hZ2VTaXplOiBbMjAsIDIwXSAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmspOyAgICBcclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbi8qIE1vYmlsZSBtZW51ICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgbGV0IG1lbnVCdXR0b24gPSAkKCcjbWVudV9fYnV0dG9uJyksXHJcblx0XHRtZW51TW9iaWxlID0gJCgnLm5hdi1saXN0JyksXHJcblx0XHRtZW51TGluayA9ICQoJy5uYXZfX2xpbmsnKSxcclxuXHRcdG1lbnVNb2JpbGVPcGVuID0gJ25hdi1saXN0LS1hY3RpdmUnLFxyXG5cdFx0aGVhZGVyID0gJCgnLmhlYWRlci1tYWluJyk7XHJcblxyXG5cdGZ1bmN0aW9uIHNjcmVlbldpZHRoQ2hlY2soKSB7XHJcblx0XHRpZiAobWVudUJ1dHRvbi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHQgICAgICAgIG1lbnVCdXR0b24ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgbWVudUJ1dHRvbi5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0ICAgIH1cclxuXHR9O1xyXG5cclxuXHRtZW51QnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdG1lbnVNb2JpbGUudG9nZ2xlQ2xhc3MobWVudU1vYmlsZU9wZW4pO1xyXG5cdFx0aGVhZGVyLmNzcygncG9zaXRpb24nLCAncmVsYXRpdmUnKTtcclxuXHRcdGhlYWRlci5jc3MoJ3otaW5kZXgnLCAnLTEnKTtcclxuXHRcdHNjcmVlbldpZHRoQ2hlY2soKTtcclxuXHR9KTtcclxuXHJcblx0bWVudUxpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRtZW51TW9iaWxlLnJlbW92ZUNsYXNzKG1lbnVNb2JpbGVPcGVuKTtcclxuXHRcdGhlYWRlci5jc3MoJ3Bvc2l0aW9uJywgJycpO1xyXG5cdFx0aGVhZGVyLmNzcygnei1pbmRleCcsICcnKTtcclxuXHRcdHNjcmVlbldpZHRoQ2hlY2soKTtcclxuXHR9KTtcclxuXHJcblx0JCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdGxldCB3ID0gJCh3aW5kb3cpLndpZHRoKCk7XHJcblx0XHRcdGlmICh3ID4gMTAyNCApIHtcclxuXHRcdFx0ICAgIG1lbnVNb2JpbGUucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuXHRcdFx0ICAgIG1lbnVNb2JpbGUucmVtb3ZlQ2xhc3MobWVudU1vYmlsZU9wZW4pO1xyXG5cclxuXHRcdFx0ICAgIGlmIChtZW51QnV0dG9uLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG5cdCAgICAgICBcdFx0XHRtZW51QnV0dG9uLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHQgICAgICAgXHRcdH1cclxuXHRcdFx0fVxyXG5cdH0pO1xyXG5cclxufSkoKTtcclxuLyogU2xpY2sgc2xpZGVyIGNhcm91c2VsICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgJCgnI3NsaWNrJykuc2xpY2soe1xyXG4gICAgICBkb3RzOiBmYWxzZSxcclxuICAgICAgaW5maW5pdGU6IGZhbHNlLFxyXG4gICAgICBzcGVlZDogMTAwMCxcclxuICAgICAgdG91Y2hNb3ZlOiB0cnVlLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxyXG4gICAgICBwYXVzZU9uSG92ZXI6IHRydWUsXHJcbiAgICAgIHByZXZBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stcHJldlwiPjxzcGFuPlByZXZpb3VzPC9zcGFuPjwvYnV0dG9uPicsXHJcbiAgICAgIG5leHRBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stbmV4dFwiPjxzcGFuPk5leHQ8L3NwYW4+PC9idXR0b24+JyxcclxuICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBicmVha3BvaW50OiA2MDAsXHJcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfSk7XHJcbiAgICBcclxufSkoKTtcclxuLyogQ2FsY3VsYXRvciAqL1xyXG5cclxuKGZ1bmN0aW9uICgpe1xyXG5cclxuICAgIGxldCBzcXVhcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3F1YXJlJyksXHJcbiAgICAgICAgbGFtcHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFtcHMnKSxcclxuICAgICAgICBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbGMtY2hlY2tib3hfX2l0ZW0nKSxcclxuICAgICAgICBjYWxjQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbGNfX2J0bicpLFxyXG4gICAgICAgIGNhbGNUb3RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbCcpLFxyXG4gICAgICAgIHNxdWFyZVdhcm5pbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3F1YXJlLXdhcm5pbmcnKSxcclxuICAgICAgICBsYW1wc1dhcm5pbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFtcHMtd2FybmluZycpLFxyXG4gICAgICAgIGNoZWNrYm94VmFsdWUsXHJcbiAgICAgICAgbGFtcHNQcmljZSA9IDUwLFxyXG4gICAgICAgIHRvdGFsID0gMCxcclxuICAgICAgICByZXN1bHQgPSAwLFxyXG4gICAgICAgIHNxdWFyZVZhbHVlID0gMCxcclxuICAgICAgICBsYW1wc1ZhbHVlID0gMDtcclxuXHJcbiAgICBmdW5jdGlvbiBpbnB1dENoZWNrKGlkLCByZWdleCkge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RWYWx1ZSA9IGVsZW1lbnQudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChsYXN0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSAnJztcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbCggKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGVsZW1lbnQudmFsdWU7XHJcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IGxhc3RWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IGxhc3RWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlucHV0Q2hlY2soJ3NxdWFyZScsIC9eXFxkKlxcLj9cXGQqJC8pOyAvLyDQlNGA0L7QsdC90YvQtSDRh9C40YHQu9CwINGBINC+0LTQvdC+0Lkg0YLQvtGH0LrQvtC5IFxyXG4gICAgaW5wdXRDaGVjaygnbGFtcHMnLCAvXlswLTldP1swLTldKiQvKTsgLy8g0KLQvtC70YzQutC+INGG0LXQu9GL0LUg0YfQuNGB0LvQsFxyXG5cclxuICAgIHNxdWFyZS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcclxuXHQgICAgc3F1YXJlVmFsdWUgPSBzcXVhcmUudmFsdWU7XHJcblx0ICAgIHNxdWFyZVdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cdCAgICBsYW1wc1dhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cdCAgICBjYWxjVG90YWwudGV4dENvbnRlbnQgPSAwO1xyXG4gICAgICAgIHRvdGFsID0gY2hlY2tib3hWYWx1ZSAqIHNxdWFyZVZhbHVlICsgKGxhbXBzVmFsdWUgKiBsYW1wc1ByaWNlKTtcclxuXHR9KTtcclxuXHJcblx0bGFtcHMuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoKSA9PiB7XHJcblx0XHRsYW1wc1ZhbHVlID0gbGFtcHMudmFsdWU7XHJcblx0XHRzcXVhcmVXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuXHQgICAgbGFtcHNXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICBjYWxjVG90YWwudGV4dENvbnRlbnQgPSAwO1xyXG4gICAgICAgIHRvdGFsID0gY2hlY2tib3hWYWx1ZSAqIHNxdWFyZVZhbHVlICsgKGxhbXBzVmFsdWUgKiBsYW1wc1ByaWNlKTtcclxuXHR9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBjaGVja2JveGVzQ2hlY2soKSB7IFx0XHJcblx0ICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGVja2JveGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0ICAgXHQgICAgaWYgKGNoZWNrYm94ZXNbaV0uY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICBjaGVja2JveFZhbHVlID0gY2hlY2tib3hlc1tpXS52YWx1ZTtcclxuXHQgICBcdCAgICB9XHJcblx0ICAgXHQgXHJcblx0ICAgXHQgICAgY2hlY2tib3hlc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjYWxjVG90YWwudGV4dENvbnRlbnQgPSAwO1xyXG4gICAgICAgICAgICAgICBcdGNoZWNrYm94VmFsdWUgPSBjaGVja2JveGVzW2ldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdG90YWwgPSBjaGVja2JveFZhbHVlICogc3F1YXJlVmFsdWUgKyAobGFtcHNWYWx1ZSAqIGxhbXBzUHJpY2UpO1xyXG5cdCAgIFx0ICAgfSk7ICBcclxuXHQgICAgfVxyXG5cdH07XHJcbiAgICBjaGVja2JveGVzQ2hlY2soKTtcclxuXHRcclxuICAgIGNhbGNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBcdGlmIChzcXVhcmVWYWx1ZSA9PSAnJyAmJiBsYW1wc1ZhbHVlID09ICcnKSB7XHJcbiAgICBcdFx0dG90YWwgPSAwO1xyXG4gICAgXHRcdHNxdWFyZVdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICBcdFx0bGFtcHNXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgXHR9IGVsc2UgaWYgKHNxdWFyZVZhbHVlID09IDAgJiYgbGFtcHNWYWx1ZSA9PSAwKSB7XHJcbiAgICBcdFx0dG90YWwgPSAwO1xyXG4gICAgXHRcdHNxdWFyZVdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICBcdFx0bGFtcHNXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgXHR9IGVsc2UgaWYgKHNxdWFyZVZhbHVlID09ICcnIHx8IHNxdWFyZVZhbHVlID09IDApIHtcclxuICAgIFx0XHR0b3RhbCA9IDA7XHJcbiAgICBcdFx0c3F1YXJlV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIFx0fSBlbHNlIGlmIChsYW1wc1ZhbHVlID09ICcnIHx8IGxhbXBzVmFsdWUgPT0gMCkge1xyXG4gICAgXHRcdHRvdGFsID0gMDtcclxuICAgIFx0XHRsYW1wc1dhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICBcdH0gZWxzZSB7XHJcbiAgICBcdCAgICBzcXVhcmVXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuXHQgICAgICAgIGxhbXBzV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIGFuaW1hdGVWYWx1ZSgndG90YWwnLCAwLCB0b3RhbCwgMzAwMCk7XHJcbiAgICBcdH0gICBcclxuXHR9KTtcclxuXHJcblx0ZnVuY3Rpb24gYW5pbWF0ZVZhbHVlKGlkLCBzdGFydCwgZW5kLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGxldCByYW5nZSA9IGVuZCAtIHN0YXJ0LFxyXG4gICAgICAgICAgICBjdXJyZW50ID0gc3RhcnQsXHJcbiAgICAgICAgICAgIGluY3JlbWVudCA9IDUwLFxyXG4gICAgICAgICAgICBzdGVwVGltZSA9IE1hdGguYWJzKE1hdGguZmxvb3IoZHVyYXRpb24gLyByYW5nZSkpLFxyXG4gICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOyBcclxuICAgIFxyXG4gICAgICAgIGxldCB0aW1lciA9IHNldEludGVydmFsKCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgKz0gaW5jcmVtZW50OyBcclxuICAgICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCAgPSBjdXJyZW50OyBcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPj0gZW5kKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHN0ZXBUaW1lKTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4vKiBTbW9vdGggc2Nyb2xsICovXHJcblxyXG4oZnVuY3Rpb24gKCl7IFxyXG5cclxuICAgICQoXCJuYXYgYSxhW2hyZWY9JyN0b3AnXSxhW3JlbD0nbV9QYWdlU2Nyb2xsMmlkJ10sYS5QYWdlU2Nyb2xsMmlkXCIpXHJcbiAgICAgICAgLm1QYWdlU2Nyb2xsMmlkKHtoaWdobGlnaHRTZWxlY3RvcjpcIm5hdiBhXCJcclxuICAgIH0pO1xyXG5cclxufSkoKTtcclxuLyogV293IHNjcmlwdCAqL1xyXG5cclxuKGZ1bmN0aW9uICgpeyBcclxuXHJcbiAgICBuZXcgV09XKCkuaW5pdCgpO1xyXG5cclxufSkoKTtcclxuLyogU2Nyb2xsIHRvIHRvcCAqL1xyXG5cclxuKGZ1bmN0aW9uICgpeyBcclxuIFxyXG4gICAgJCh3aW5kb3cpLnNjcm9sbCggZnVuY3Rpb24oKSB7XHJcbiBcclxuICAgICAgICBpZigkKHRoaXMpLnNjcm9sbFRvcCgpID4gNzAwKSB7XHJcbiAgICAgICAgICAgICQoJyN0b1RvcCcpLmZhZGVJbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJyN0b1RvcCcpLmZhZGVPdXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgJCgnI3RvVG9wJykuY2xpY2soIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJ2JvZHksaHRtbCcpLmFuaW1hdGUoe3Njcm9sbFRvcDowfSw4MDApO1xyXG4gICAgfSk7XHJcbiBcclxufSkoKTtcclxuXHJcbn0pOyJdfQ==
