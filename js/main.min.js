"use strict";window.addEventListener("DOMContentLoaded",function(){!function(){ymaps.ready(function(){(e=new ymaps.Map("yandex-map",{center:[55.753595,37.621031],zoom:16})).behaviors.disable("scrollZoom"),e.behaviors.disable("drag"),e.events.add("click",function(){e.behaviors.enable("scrollZoom"),e.behaviors.enable("drag")}),t=new ymaps.Placemark([55.753595,37.621031],{},{iconLayout:"default#image",iconImageSize:[20,20]}),e.geoObjects.add(t)});var e=void 0,t=void 0}(),function(){var e=$("#menu__button"),t=$(".nav-list"),n=$(".nav__link"),o="nav-list--active";function a(){e.hasClass("active")?e.removeClass("active"):e.addClass("active")}e.on("click",function(e){e.preventDefault(),t.toggleClass(o),a(),console.log("Yes")}),n.on("click",function(){t.removeClass(o),a()}),$(window).resize(function(){1024<$(window).width()&&(t.removeAttr("style"),t.removeClass(o),e.hasClass("active")&&e.removeClass("active"))})}(),$("#slick").slick({dots:!1,infinite:!1,speed:1e3,touchMove:!0,slidesToShow:1,slidesToScroll:1,draggable:!0,pauseOnHover:!0,prevArrow:'<button type="button" class="slick-arrow slick-prev"><span>Previous</span></button>',nextArrow:'<button type="button" class="slick-arrow slick-next"><span>Next</span></button>',responsive:[{breakpoint:600,settings:{arrows:!1}}]}),function(){var e=document.getElementById("square"),t=document.getElementById("lamps"),n=document.querySelectorAll(".calc-checkbox__item"),o=document.querySelector(".calc__btn"),a=document.getElementById("total"),r=document.querySelector(".square-warning"),d=document.querySelector(".lamps-warning"),l=void 0,u=0,v=0,p=0;function i(e,t){var n=document.getElementById(e);if(n){var o=n.value;t.test(o)||(o=""),setInterval(function(){var e=n.value;e!=o&&(t.test(e)?o=e:n.value=o)},10)}}i("square",/^[0-9]+[.]?[0-9]*$/),i("lamps",/^[0-9]?[0-9]*$/),e.addEventListener("keyup",function(){v=e.value,r.style.display="",d.style.display="",a.textContent=0,u=l*v+50*p}),t.addEventListener("keyup",function(){p=t.value,r.style.display="",d.style.display="",a.textContent=0,u=l*v+50*p}),function(){for(var e=function(e){n[e].checked&&(l=n[e].value),n[e].addEventListener("change",function(){a.textContent=0,l=n[e].value,u=l*v+50*p})},t=0;t<n.length;t++)e(t)}(),o.addEventListener("click",function(){var e,t,n,o,a,l,i,s,c;""==v&&""==p?(u=0,r.style.display="block",d.style.display="block"):0==v&&0==p?(u=0,r.style.display="block",d.style.display="block"):""==v||0==v?(u=0,r.style.display="block"):""==p||0==p?(u=0,d.style.display="block"):(r.style.display="",d.style.display="",e="total",o=3e3,a=(n=u)-(t=0),l=t,i=Math.abs(Math.floor(o/a)),s=document.getElementById(e),c=setInterval(function(){l+=50,s.textContent=l,n<=l&&clearInterval(c)},i))})}(),$("nav a,a[href='#top'],a[rel='m_PageScroll2id'],a.PageScroll2id").mPageScroll2id({highlightSelector:"nav a"}),(new WOW).init(),$(window).scroll(function(){700<$(this).scrollTop()?$("#toTop").fadeIn():$("#toTop").fadeOut()}),$("#toTop").click(function(){$("body,html").animate({scrollTop:0},800)}),function(){function e(e){var t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=function(){e(2===t.height)}}var t=void 0;e(function(e){return e?(t=!0,console.log("Поддерживает webp")):(t=!1,console.log("Не поддерживает webp")),t});!function(e,t,n,o,a){for(var l=document.querySelectorAll("."+e),i=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,s=void 0,c=void 0,r=0;r<l.length;r++)c=(l[r].currentStyle||window.getComputedStyle(l[r],!1)).backgroundImage.replace(/"/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/url/g,""),1===i?s=c.replace(/@1x.jpg/g,t):1.5<i&&(s=c.replace(/@1x.jpg/g,n)),l[r].style.backgroundImage="url("+s+")"}("bg-img","@1x.webp","@2x.webp")}()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInltYXBzIiwibXlNYXAiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiYmVoYXZpb3JzIiwiZGlzYWJsZSIsImV2ZW50cyIsImFkZCIsIm15UGxhY2VtYXJrIiwiUGxhY2VtYXJrIiwiaWNvbkltYWdlU2l6ZSIsImljb25MYXlvdXQiLCJnZW9PYmplY3RzIiwibWVudUJ1dHRvbiIsIm1lbnVNb2JpbGVPcGVuIiwibWVudU1vYmlsZSIsIiQiLCJtZW51TGluayIsInNjcmVlbldpZHRoQ2hlY2siLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiY29uc29sZSIsInRvZ2dsZUNsYXNzIiwib24iLCJyZW1vdmVBdHRyIiwiaGFzQ2xhc3MiLCJ0b3VjaE1vdmUiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImRyYWdnYWJsZSIsInBhdXNlT25Ib3ZlciIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJhcnJvd3MiLCJzcXVhcmUiLCJjaGVja2JveFZhbHVlIiwibGFtcHMiLCJsYW1wc1ByaWNlIiwiZ2V0RWxlbWVudEJ5SWQiLCJjaGVja2JveGVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2FsY0J0biIsInJlc3VsdCIsInF1ZXJ5U2VsZWN0b3IiLCJjYWxjVG90YWwiLCJzcXVhcmVWYWx1ZSIsInNxdWFyZVdhcm5pbmciLCJsYW1wc1ZhbHVlIiwibGFtcHNXYXJuaW5nIiwidG90YWwiLCJlbGVtZW50IiwicmVnZXgiLCJsYXN0VmFsdWUiLCJzZXRJbnRlcnZhbCIsInZhbHVlIiwiaWQiLCJ0ZXN0IiwiaW5wdXRDaGVjayIsInRleHRDb250ZW50IiwiZGlzcGxheSIsInN0eWxlIiwiY2hlY2tib3hlc0NoZWNrIiwiY2hlY2tlZCIsImkiLCJfbG9vcCIsImluY3JlbWVudCIsImVuZCIsImR1cmF0aW9uIiwicmFuZ2UiLCJjdXJyZW50Iiwic3RlcFRpbWUiLCJ0aW1lciIsImZsb29yIiwiY2xlYXJJbnRlcnZhbCIsIm1QYWdlU2Nyb2xsMmlkIiwiaGlnaGxpZ2h0U2VsZWN0b3IiLCJzY3JvbGwiLCJ0aGlzIiwic2Nyb2xsVG9wIiwiZmFkZUluIiwiZmFkZU91dCIsImNsaWNrIiwiYW5pbWF0ZSIsImNhbGxiYWNrIiwidGVzdFdlYlAiLCJicm93c2VyIiwid2ViUCIsInNyYyIsIm9uZXJyb3IiLCJsb2ciLCJzdXBwb3J0ZWQiLCJwcmV2VXJsRW5kIiwidXJsV2VicDF4IiwiYmdJbWdPcHQiLCJjdXJyZW50SW1hZ2UiLCJ1cmxXZWJwMngiLCJ1cmxKcGcyeCIsImJnSW1hZ2VzIiwiaW1hZ2VzIiwicGl4ZWxSYXRpbyIsImRldmljZVBpeGVsUmF0aW8iLCJzY3JlZW4iLCJkZXZpY2VYRFBJIiwibG9naWNhbFhEUEkiLCJuZXdVUkwiLCJpbWFnZUxpc3QiLCJsZW5ndGgiLCJwdXJlVXJsIiwiY3VycmVudFN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInJlcGxhY2UiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJpbWFnZVR5cGVDaGFuZ2UiXSwibWFwcGluZ3MiOiJhQUFBQSxPQUFPQyxpQkFBaUIsbUJBQW9CLFlBUTVDLFdBRUlDLE1BQUFBLE1BS0EsWUFFSUMsRUFBQUEsSUFBUUQsTUFBSUEsSUFBTUUsYUFBSSxDQUNsQkMsT0FBQUEsQ0FBQUEsVUFBUyxXQUNUQyxLQUFBQSxNQUdKSCxVQUFNSSxRQUFVQyxjQUNoQkwsRUFBQUEsVUFBTUksUUFBVUMsUUFDaEJMLEVBQUFBLE9BQU1NLElBQU9DLFFBQUksV0FDakJQLEVBQUFBLFVBQU1JLE9BQU4sY0FDQUosRUFBQUEsVUFBTUksT0FBTixVQUdBSSxFQUFBQSxJQUFjVCxNQUFJQSxVQUFNVSxDQUFBQSxVQUFXLFdBQVcsR0FJOUNDLENBRkFDLFdBRkEsZ0JBSUFELGNBQWUsQ0FBQyxHQUFJLE1BekI1QlYsRUFBQVksV0FBQUwsSUFBQUMsS0FJSSxJQUFB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QVV0QnBFLFFBQUF3RSxJQUFBLHVCQUdRRSxHQUFBQSxFQUNBQyxRQUFBQSxJQUFXLHlCQUhUQyxLQWdCRUMsU0FBQUEsRUFKUEYsRUFBQUcsRUFBQUMsRUFBQUwsR0FjTyxJQWRQLElBQUFNLEVBS2UxRCxTQUFBQyxpQkFBQSxJQUFBMEQsR0FIWEMsRUFBYTFHLE9BQU8yRyxrQkFBb0IzRyxPQUFPNEcsT0FBT0MsV0FBYTdHLE9BQU80RyxPQUFPRSxZQVFqRkMsT0FBQUEsRUFDR0MsT0FBQUEsRUFHQTFDLEVBQUEsRUFBQUEsRUFBQWtDLEVBQUFTLE9BQUEzQyxJQU9JNEMsR0FWUVYsRUFBU2xDLEdBQUc2QyxjQUFnQm5ILE9BQU9vSCxpQkFBaUJaLEVBQVNsQyxJQUFJLElBUXpEb0MsZ0JBRWhCVyxRQUFBLEtBQUEsSUFBQUEsUUFBQSxNQUFBLElBQUFBLFFBQUEsTUFBQSxJQUNXMUIsUUFBWWUsT0FBQUEsSUFHQ0EsSUFBWmYsRUFDVG9CLEVBQUFBLEVBQVNHLFFBQUEsV0FBQWYsR0FFWU8sSUFBYkEsSUFDUkssRUFBQUEsRUFBU0csUUFBQSxXQUFBWixJQUdoQkUsRUFBU2xDLEdBQUdILE1BQU1tRCxnQkFBbEIsT0FBMkNQLEVBQTNDLElBR1JRLENBOUNTLFNBV0pmLFdBUlUsWUF2QlBkIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHJcblxyXG4vKiDQmtCQ0KHQotCe0JzQndCr0JUg0KHQmtCg0JjQn9Ci0KsgKi9cclxuXHJcblxyXG4vKiBZYW5kZXggbWFwICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgeW1hcHMucmVhZHkoaW5pdCk7XHJcblxyXG4gICAgbGV0IG15TWFwLFxyXG4gICAgICAgIG15UGxhY2VtYXJrO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKXsgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwieWFuZGV4LW1hcFwiLCB7XHJcbiAgICAgICAgICAgIGNlbnRlcjogWzU1Ljc1MzU5NSwgMzcuNjIxMDMxXSxcclxuICAgICAgICAgICAgem9vbTogMTZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbXlNYXAuYmVoYXZpb3JzLmRpc2FibGUoXCJzY3JvbGxab29tXCIpO1xyXG4gICAgICAgIG15TWFwLmJlaGF2aW9ycy5kaXNhYmxlKCdkcmFnJyk7XHJcbiAgICAgICAgbXlNYXAuZXZlbnRzLmFkZChcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbXlNYXAuYmVoYXZpb3JzLmVuYWJsZShcInNjcm9sbFpvb21cIilcclxuICAgICAgICBteU1hcC5iZWhhdmlvcnMuZW5hYmxlKCdkcmFnJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuNzUzNTk1LCAzNy42MjEwMzFdLCB7fSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIHsgICAgICAgICBcclxuICAgICAgICBpY29uTGF5b3V0OiBcImRlZmF1bHQjaW1hZ2VcIixcclxuICAgICAgICBpY29uSW1hZ2VTaXplOiBbMjAsIDIwXSAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmspOyAgICBcclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbi8qIE1vYmlsZSBtZW51ICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgbGV0IG1lbnVCdXR0b24gPSAkKCcjbWVudV9fYnV0dG9uJyksXHJcblx0XHRtZW51TW9iaWxlID0gJCgnLm5hdi1saXN0JyksXHJcblx0XHRtZW51TGluayA9ICQoJy5uYXZfX2xpbmsnKSxcclxuXHRcdG1lbnVNb2JpbGVPcGVuID0gJ25hdi1saXN0LS1hY3RpdmUnO1xyXG5cclxuXHRmdW5jdGlvbiBzY3JlZW5XaWR0aENoZWNrKCkge1xyXG5cdFx0aWYgKG1lbnVCdXR0b24uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0ICAgICAgICBtZW51QnV0dG9uLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHQgICAgfSBlbHNlIHtcclxuXHQgICAgICAgIG1lbnVCdXR0b24uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdCAgICB9XHJcblx0fTtcclxuXHJcblx0bWVudUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRtZW51TW9iaWxlLnRvZ2dsZUNsYXNzKG1lbnVNb2JpbGVPcGVuKTtcclxuXHRcdHNjcmVlbldpZHRoQ2hlY2soKTtcclxuXHRcdGNvbnNvbGUubG9nKCdZZXMnKTtcclxuXHR9KTtcclxuXHJcblx0bWVudUxpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRtZW51TW9iaWxlLnJlbW92ZUNsYXNzKG1lbnVNb2JpbGVPcGVuKTtcclxuXHRcdHNjcmVlbldpZHRoQ2hlY2soKTtcclxuXHR9KTtcclxuXHJcblx0JCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdGxldCB3ID0gJCh3aW5kb3cpLndpZHRoKCk7XHJcblx0XHRcdGlmICh3ID4gMTAyNCApIHtcclxuXHRcdFx0ICAgIG1lbnVNb2JpbGUucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuXHRcdFx0ICAgIG1lbnVNb2JpbGUucmVtb3ZlQ2xhc3MobWVudU1vYmlsZU9wZW4pO1xyXG5cclxuXHRcdFx0ICAgIGlmIChtZW51QnV0dG9uLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG5cdCAgICAgICBcdFx0XHRtZW51QnV0dG9uLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHQgICAgICAgXHRcdH1cclxuXHRcdFx0fVxyXG5cdH0pO1xyXG5cclxufSkoKTtcclxuLyogU2xpY2sgc2xpZGVyIGNhcm91c2VsICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgJCgnI3NsaWNrJykuc2xpY2soe1xyXG4gICAgICBkb3RzOiBmYWxzZSxcclxuICAgICAgaW5maW5pdGU6IGZhbHNlLFxyXG4gICAgICBzcGVlZDogMTAwMCxcclxuICAgICAgdG91Y2hNb3ZlOiB0cnVlLFxyXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSxcclxuICAgICAgcHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1wcmV2XCI+PHNwYW4+UHJldmlvdXM8L3NwYW4+PC9idXR0b24+JyxcclxuICAgICAgbmV4dEFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1uZXh0XCI+PHNwYW4+TmV4dDwvc3Bhbj48L2J1dHRvbj4nLFxyXG4gICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDYwMCxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICBhcnJvd3M6IGZhbHNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdXHJcbiAgICB9KTtcclxuICAgIFxyXG59KSgpO1xyXG4vKiBDYWxjdWxhdG9yICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgbGV0IHNxdWFyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcXVhcmUnKSxcclxuICAgICAgICBsYW1wcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYW1wcycpLFxyXG4gICAgICAgIGNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FsYy1jaGVja2JveF9faXRlbScpLFxyXG4gICAgICAgIGNhbGNCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FsY19fYnRuJyksXHJcbiAgICAgICAgY2FsY1RvdGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsJyksXHJcbiAgICAgICAgc3F1YXJlV2FybmluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zcXVhcmUtd2FybmluZycpLFxyXG4gICAgICAgIGxhbXBzV2FybmluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYW1wcy13YXJuaW5nJyksXHJcbiAgICAgICAgY2hlY2tib3hWYWx1ZSxcclxuICAgICAgICBsYW1wc1ByaWNlID0gNTAsXHJcbiAgICAgICAgdG90YWwgPSAwLFxyXG4gICAgICAgIHJlc3VsdCA9IDAsXHJcbiAgICAgICAgc3F1YXJlVmFsdWUgPSAwLFxyXG4gICAgICAgIGxhbXBzVmFsdWUgPSAwO1xyXG5cclxuICAgIGZ1bmN0aW9uIGlucHV0Q2hlY2soaWQsIHJlZ2V4KSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFZhbHVlID0gZWxlbWVudC52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGxhc3RWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgIHNldEludGVydmFsKCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZWxlbWVudC52YWx1ZTtcclxuICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbGFzdFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVnZXgudGVzdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gbGFzdFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaW5wdXRDaGVjaygnc3F1YXJlJywgL15bMC05XStbLl0/WzAtOV0qJC8pOyAvLyDQlNGA0L7QsdC90YvQtSDRh9C40YHQu9CwINGBINC+0LTQvdC+0Lkg0YLQvtGH0LrQvtC5IFxyXG4gICAgaW5wdXRDaGVjaygnbGFtcHMnLCAvXlswLTldP1swLTldKiQvKTsgLy8g0KLQvtC70YzQutC+INGG0LXQu9GL0LUg0YfQuNGB0LvQsFxyXG5cclxuICAgIHNxdWFyZS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcclxuXHQgICAgc3F1YXJlVmFsdWUgPSBzcXVhcmUudmFsdWU7XHJcblx0ICAgIHNxdWFyZVdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cdCAgICBsYW1wc1dhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cdCAgICBjYWxjVG90YWwudGV4dENvbnRlbnQgPSAwO1xyXG4gICAgICAgIHRvdGFsID0gY2hlY2tib3hWYWx1ZSAqIHNxdWFyZVZhbHVlICsgKGxhbXBzVmFsdWUgKiBsYW1wc1ByaWNlKTtcclxuXHR9KTtcclxuXHJcblx0bGFtcHMuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoKSA9PiB7XHJcblx0XHRsYW1wc1ZhbHVlID0gbGFtcHMudmFsdWU7XHJcblx0XHRzcXVhcmVXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuXHQgICAgbGFtcHNXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICBjYWxjVG90YWwudGV4dENvbnRlbnQgPSAwO1xyXG4gICAgICAgIHRvdGFsID0gY2hlY2tib3hWYWx1ZSAqIHNxdWFyZVZhbHVlICsgKGxhbXBzVmFsdWUgKiBsYW1wc1ByaWNlKTtcclxuXHR9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBjaGVja2JveGVzQ2hlY2soKSB7IFx0XHJcblx0ICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGVja2JveGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0ICAgXHQgICAgaWYgKGNoZWNrYm94ZXNbaV0uY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICBjaGVja2JveFZhbHVlID0gY2hlY2tib3hlc1tpXS52YWx1ZTtcclxuXHQgICBcdCAgICB9XHJcblx0ICAgXHQgXHJcblx0ICAgXHQgICAgY2hlY2tib3hlc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjYWxjVG90YWwudGV4dENvbnRlbnQgPSAwO1xyXG4gICAgICAgICAgICAgICBcdGNoZWNrYm94VmFsdWUgPSBjaGVja2JveGVzW2ldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdG90YWwgPSBjaGVja2JveFZhbHVlICogc3F1YXJlVmFsdWUgKyAobGFtcHNWYWx1ZSAqIGxhbXBzUHJpY2UpO1xyXG5cdCAgIFx0ICAgfSk7ICBcclxuXHQgICAgfVxyXG5cdH07XHJcbiAgICBjaGVja2JveGVzQ2hlY2soKTtcclxuXHRcclxuICAgIGNhbGNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBcdGlmIChzcXVhcmVWYWx1ZSA9PSAnJyAmJiBsYW1wc1ZhbHVlID09ICcnKSB7XHJcbiAgICBcdFx0dG90YWwgPSAwO1xyXG4gICAgXHRcdHNxdWFyZVdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICBcdFx0bGFtcHNXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgXHR9IGVsc2UgaWYgKHNxdWFyZVZhbHVlID09IDAgJiYgbGFtcHNWYWx1ZSA9PSAwKSB7XHJcbiAgICBcdFx0dG90YWwgPSAwO1xyXG4gICAgXHRcdHNxdWFyZVdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICBcdFx0bGFtcHNXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgXHR9IGVsc2UgaWYgKHNxdWFyZVZhbHVlID09ICcnIHx8IHNxdWFyZVZhbHVlID09IDApIHtcclxuICAgIFx0XHR0b3RhbCA9IDA7XHJcbiAgICBcdFx0c3F1YXJlV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIFx0fSBlbHNlIGlmIChsYW1wc1ZhbHVlID09ICcnIHx8IGxhbXBzVmFsdWUgPT0gMCkge1xyXG4gICAgXHRcdHRvdGFsID0gMDtcclxuICAgIFx0XHRsYW1wc1dhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICBcdH0gZWxzZSB7XHJcbiAgICBcdCAgICBzcXVhcmVXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuXHQgICAgICAgIGxhbXBzV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIGFuaW1hdGVWYWx1ZSgndG90YWwnLCAwLCB0b3RhbCwgMzAwMCk7XHJcbiAgICBcdH0gICBcclxuXHR9KTtcclxuXHJcblx0ZnVuY3Rpb24gYW5pbWF0ZVZhbHVlKGlkLCBzdGFydCwgZW5kLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGxldCByYW5nZSA9IGVuZCAtIHN0YXJ0LFxyXG4gICAgICAgICAgICBjdXJyZW50ID0gc3RhcnQsXHJcbiAgICAgICAgICAgIGluY3JlbWVudCA9IDUwLFxyXG4gICAgICAgICAgICBzdGVwVGltZSA9IE1hdGguYWJzKE1hdGguZmxvb3IoZHVyYXRpb24gLyByYW5nZSkpLFxyXG4gICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOyBcclxuICAgIFxyXG4gICAgICAgIGxldCB0aW1lciA9IHNldEludGVydmFsKCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgKz0gaW5jcmVtZW50OyBcclxuICAgICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCAgPSBjdXJyZW50OyBcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPj0gZW5kKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHN0ZXBUaW1lKTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4vKiBTbW9vdGggc2Nyb2xsICovXHJcblxyXG4oZnVuY3Rpb24gKCl7IFxyXG5cclxuICAgICQoXCJuYXYgYSxhW2hyZWY9JyN0b3AnXSxhW3JlbD0nbV9QYWdlU2Nyb2xsMmlkJ10sYS5QYWdlU2Nyb2xsMmlkXCIpXHJcbiAgICAgICAgLm1QYWdlU2Nyb2xsMmlkKHtoaWdobGlnaHRTZWxlY3RvcjpcIm5hdiBhXCJcclxuICAgIH0pO1xyXG5cclxufSkoKTtcclxuLyogV293IHNjcmlwdCAqL1xyXG5cclxuKGZ1bmN0aW9uICgpeyBcclxuXHJcbiAgICBuZXcgV09XKCkuaW5pdCgpO1xyXG5cclxufSkoKTtcclxuLyogU2Nyb2xsIHRvIHRvcCAqL1xyXG5cclxuKGZ1bmN0aW9uICgpeyBcclxuIFxyXG4gICAgJCh3aW5kb3cpLnNjcm9sbCggZnVuY3Rpb24oKSB7XHJcbiBcclxuICAgICAgICBpZigkKHRoaXMpLnNjcm9sbFRvcCgpID4gNzAwKSB7XHJcbiAgICAgICAgICAgICQoJyN0b1RvcCcpLmZhZGVJbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJyN0b1RvcCcpLmZhZGVPdXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgJCgnI3RvVG9wJykuY2xpY2soIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJ2JvZHksaHRtbCcpLmFuaW1hdGUoe3Njcm9sbFRvcDowfSw4MDApO1xyXG4gICAgfSk7XHJcbiBcclxufSkoKTtcclxuLyogQmFja2dyb3VuZCBpbWFnZSB0eXBlIGNob2ljZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgYnJvd3NlciBhbmQgaXQncyB2ZXJzaW9uICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4vKiBCcm93c2VyIHdlYlAgc3VwcG9ydCBjaGVjayAqL1xyXG4gICAgZnVuY3Rpb24gdGVzdFdlYlAoY2FsbGJhY2spIHtcclxuICAgICAgICBsZXQgd2ViUCA9IG5ldyBJbWFnZSgpOyAgICAgXHJcbiAgICAgICAgICAgIHdlYlAuc3JjID0gJ2RhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JpNEFBQUJYUlVKUVZsQTRUQ0VBQUFBdkFVQUFFQjh3QWlNdycgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAnQWdTU050c2UvY1hqeHlDQ21yWU5XUHdtSFJIOWp3TUEnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB3ZWJQLm9ubG9hZCA9IHdlYlAub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgY2FsbGJhY2sod2ViUC5oZWlnaHQgPT09IDIpOyAgICAgXHJcbiAgICAgICAgfTsgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBsZXQgYnJvd3NlcjtcclxuXHJcbiAgICB0ZXN0V2ViUChmdW5jdGlvbihzdXBwb3J0ZWQpIHtcclxuICAgICAgICBpZiAoc3VwcG9ydGVkKSB7XHJcbiAgICAgICAgICAgIGJyb3dzZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn0J/QvtC00LTQtdGA0LbQuNCy0LDQtdGCIHdlYnAnKTtcclxuICAgICAgICBcdHJldHVybiBicm93c2VyXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYnJvd3NlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn0J3QtSDQv9C+0LTQtNC10YDQttC40LLQsNC10YIgd2VicCcpO1xyXG4gICAgICAgIFx0cmV0dXJuIGJyb3dzZXJcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbi8qIFN1cHBvcnRlZCBpbWFnZSB0eXBlIGNob2ljZSBvcHRpb25zICovXHJcbiAgICBjb25zdCBiZ0ltZ09wdCA9IHtcclxuICAgIFx0aW1hZ2VzOiAnYmctaW1nJywgIC8vINCa0LvQsNGB0YEg0Y3Qu9C10LzQtdC90YLQvtCyLCDQsiDQutC+0YLQvtGA0YvRhSDQvdC10L7QsdGF0L7QtNC40LzQsCDQt9Cw0LzQtdC90LAg0LrQsNGA0YLQuNC90L7QulxyXG4gICAgICAgIHByZXZVcmxFbmQ6ICdAMXguanBnJywgLy8g0J7RgdC90L7QstC90L7QuSAoanBnKSDRhNC+0YDQvNCw0YIg0LrQsNGA0YLQuNC90L7QulxyXG4gICAgICAgIHVybFdlYnAxeDogJ0AxeC53ZWJwJywgLy8gV2ViUCDRhNC+0YDQvNCw0YIg0LrQsNGA0YLQuNC90L7QuiDQtNC70Y8g0L7QsdGL0YfQvdGL0YUg0Y3QutGA0LDQvdC+0LJcclxuICAgICAgICB1cmxXZWJwMng6ICdAMngud2VicCcsIC8vIFdlYlAg0YTQvtGA0LzQsNGCINC60LDRgNGC0LjQvdC+0Log0LTQu9GPINGN0LrRgNCw0L3QvtCyINGBINGA0LDQt9GA0LXRiNC10L3QuNC10Lwg0L7RgiAxLjUgRFBJXHJcbiAgICAgICAgdXJsSnBnMng6ICdAMnguanBnJywgLy8gSnBnINGE0L7RgNC80LDRgiDQutCw0YDRgtC40L3QvtC6INC00LvRjyDRjdC60YDQsNC90L7QsiDRgSDRgNCw0LfRgNC10YjQtdC90LjQtdC8INC+0YIgMS41IERQSVxyXG4gICAgfVxyXG5cclxuLyog0KTRg9C90LrRhtC40Y8g0LLRi9Cx0L7RgNCwINGE0L7RgNC80LDRgtCwINGE0L7QvdC+0LLRi9GFINC60LDRgNGC0LjQvdC+0Log0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLQuCDQvtGCINGC0LjQv9CwINCx0YDQsNGD0LfQtdGA0LAg0Lgg0YDQsNC30YDQtdGI0LXQvdC40Y8g0Y3QutGA0LDQvdCwICovXHJcbiAgICBmdW5jdGlvbiBpbWFnZVR5cGVDaGFuZ2UoaW1hZ2VzLCB1cmxXZWJwMXgsIHVybFdlYnAyeCwgdXJsSnBnMngsIHByZXZVcmxFbmQpIHtcclxuXHJcbiAgICAgICAgICAgIC8vINCf0YHQtdCy0LTQvtC80LDRgdGB0LjQsiDRjdC70LXQvNC10L3RgtC+0LIg0YEg0YTQvtC90L7QstGL0LzQuCDQutCw0YDRgtC40L3QutCw0LzQuFxyXG4gICAgXHRsZXQgYmdJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtpbWFnZXN9YCksIFxyXG4gICAgXHQgICAgLy8g0J/RgNC+0LLQtdGA0LrQsCBEUEkg0Y3QutGA0LDQvdCwINGD0YHRgtGA0L7QudGB0YLQstCwINC00LvRjyDQstGB0LXRhSDQsdGA0LDRg9C30LXRgNC+0LIg0Lgg0LTQu9GPIElFIDEwXHJcbiAgICBcdCAgICBwaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgd2luZG93LnNjcmVlbi5kZXZpY2VYRFBJIC8gd2luZG93LnNjcmVlbi5sb2dpY2FsWERQSSxcclxuICAgIFx0ICAgIGltYWdlTGlzdCwgLy8g0KHQv9C40YHQvtC6INGC0LXQutGD0YnQuNGFINGB0YHRi9C70L7QuiDQvdCwINGE0L7QvdC+0LLRi9C1INC60LDRgNGC0LjQvdC60LhcclxuICAgICAgICAgICAgY3VycmVudEltYWdlLCAvLyDQotC10LrRg9GJ0LDRjyDQutCw0YDRgtC40L3QutCwXHJcbiAgICAgICAgICAgIG5ld1VSTCwgLy8g0J3QvtCy0LDRjyDRgdGB0YvQu9C60LAg0LTQu9GPINC60LDRgNGC0LjQvdC60LhcclxuICAgICAgICAgICAgcHVyZVVybDsgLy8g0KfQuNGB0YLQsNGPINGB0YHRi9C70LrQsCDQsdC10LcgdXJsLCDQutCw0LLRi9GH0LXQuiDQuCDRgdC60L7QsdC+0LpcclxuXHJcbiAgICAgICAgLy8g0J/QtdGA0LXQsdC+0YAg0L/RgdC10LLQtNC+0LzQsNGB0YHQuNCy0LAg0Y3Qu9C10LzQtdC90YLQvtCyINGBINGE0L7QvdC+0LLRi9C80Lgg0LrQsNGA0YLQuNC90LrQsNC80LhcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJnSW1hZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgXHQvLyDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0YHQv9C40YHQutCwINGC0LXQutGD0YnQuNGFINGB0YHRi9C70L7QuiDQvdCwINC60LDRgNGC0LjQvdC60Lgg0LTQu9GPIElFINC4INC+0YHRgtCw0LvRjNC90YvRhSDQsdGA0LDRg9C30LXRgNC+0LJcclxuICAgICAgICAgICAgaW1hZ2VMaXN0ID0gYmdJbWFnZXNbaV0uY3VycmVudFN0eWxlIHx8IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGJnSW1hZ2VzW2ldLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vINCS0YvQsdC+0YAg0YLQtdC60YPRidC10Lkg0YHRgdGL0LvQutC4INC90LAg0LrQsNGA0YLQuNC90LrRgyDQuNC3INGB0L/QuNGB0LrQsFxyXG4gICAgICAgICAgICBjdXJyZW50SW1hZ2UgPSBpbWFnZUxpc3QuYmFja2dyb3VuZEltYWdlO1xyXG4gICAgICAgICAgICAvLyDQktGL0YDQtdC30LDQvdC40LUg0LvQuNGI0L3QuNGFINGB0LjQvNCy0L7Qu9C+0LIg0Lgg0L/QvtC70YPRh9C10L3QuNC1INGH0LjRgdGC0L7QuSDRgdGB0YvQu9C60LhcclxuICAgICAgICAgICAgcHVyZVVybCA9IGN1cnJlbnRJbWFnZS5yZXBsYWNlKC9cIi9nLCAnJykucmVwbGFjZSgvXFwoL2csICcnKS5yZXBsYWNlKC9cXCkvZywgJycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvdXJsL2csICcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDQntC/0YDQtdC00LXQu9C10L3QuNC1INGB0YHRi9C70L7QuiDQvdCwINC60LDRgNGC0LjQvdC60Lgg0YTQvtGA0LzQsNGC0LAgd2ViUCDQtNC70Y8g0L7QsdGL0YfQvdGL0YUg0Y3QutGA0LDQvdC+0LJcclxuICAgICAgICAgICAgICAgIGlmICh0ZXN0V2ViUCAmJiBwaXhlbFJhdGlvID09PSAxKSB7IFxyXG4gICAgICAgICAgICAgICAgICAgbmV3VVJMID0gcHVyZVVybC5yZXBsYWNlKC9AMXguanBnL2csIHVybFdlYnAxeCk7XHJcbiAgICAgICAgICAgICAgICAvLyDQntC/0YDQtdC00LXQu9C10L3QuNC1INGB0YHRi9C70L7QuiDQvdCwINC60LDRgNGC0LjQvdC60Lgg0YTQvtGA0LzQsNGC0LAgd2ViUCDQtNC70Y8g0Y3QutGA0LDQvdC+0LIg0YEg0YDQsNC30YDQtdGI0LXQvdC40LXQvCDQsdC+0LvQtdC1IDEuNSBEUElcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGVzdFdlYlAgJiYgcGl4ZWxSYXRpbyA+IDEuNSkge1xyXG4gICAgICAgICAgICAgICAgICAgbmV3VVJMID0gcHVyZVVybC5yZXBsYWNlKC9AMXguanBnL2csIHVybFdlYnAyeCk7XHJcbiAgICAgICAgICAgICAgICAvLyDQntC/0YDQtdC00LXQu9C10L3QuNC1INGB0YHRi9C70L7QuiDQvdCwINC60LDRgNGC0LjQvdC60Lgg0YTQvtGA0LzQsNGC0LAganBnINC00LvRjyDRjdC60YDQsNC90L7QsiDRgSDRgNCw0LfRgNC10YjQtdC90LjQtdC8INCx0L7Qu9C10LUgMS41IERQSVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGVzdFdlYlAgJiYgcGl4ZWxSYXRpbyA+IDEuNSkge1xyXG4gICAgICAgICAgICAgICAgICAgbmV3VVJMID0gcHVyZVVybC5yZXBsYWNlKC9AMXguanBnL2csIHVybEpwZzJ4KTtcclxuICAgICAgICAgICAgICAgIC8vINCe0L/RgNC10LTQtdC70LXQvdC40LUg0YHRgdGL0LvQvtC6INC90LAg0LrQsNGA0YLQuNC90LrQuCDRhNC+0YDQvNCw0YLQsCBqcGcg0LTQu9GPINC+0LHRi9GH0L3Ri9GFINGN0LrRgNCw0L3QvtCyXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0ZXN0V2ViUCAmJiBwaXhlbFJhdGlvID09PSAxKXtcclxuICAgICAgICAgICAgICAgICAgIG5ld1VSTCA9IHB1cmVVcmwucmVwbGFjZSgvQDF4LmpwZy9nLCBwcmV2VXJsRW5kKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAgICAgYmdJbWFnZXNbaV0uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke25ld1VSTH0pYDsgLy8g0KPRgdGC0LDQvdC+0LLQutCwINC90L7QstGL0YUg0YHRgdGL0LvQvtC6XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW1hZ2VUeXBlQ2hhbmdlKGJnSW1nT3B0LmltYWdlcywgYmdJbWdPcHQudXJsV2VicDF4LCBiZ0ltZ09wdC51cmxXZWJwMngsIFxyXG4gICAgXHQgICAgICAgICAgIGJnSW1nT3B0LnVybEpwZzJ4LCBiZ0ltZ09wdC5wcmV2VXJsRW5kKTtcclxuXHJcbn0pKCk7XHJcblxyXG59KTsiXX0=
